<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>7)Nuevos Tipos de Datos</title>
</head>

<body>
  <h1>55)Proxies</h1>
  <script>
    /*
      Proxies: Te permite crear un objeto basado en un objeto literal inicial y los vincula(que no es lo mismo que hacer una copia solamente)
    */
     const persona = {
      nombre: "",
      apellido: "",
      edad: 0
    }
    const manejador = { //manejador el el handler para admistrar las propiedades del entre el proxie y el objeto inicial
      set(obj, prop, valor) {
        if (Object.keys(obj).indexOf(prop) === -1) {
          return console.error(`La propiedad "${prop}" no existe en el objeto persona.`);
        }
        if (
          (prop === "nombre" || prop === "apellido") &&
          !(/^[A-Za-zÑñÁáÉéÍíÓóÚúÜü\s]+$/g.test(valor))
        ) {
          return console.error(`La propiedad "${prop}"" sólo acepta letras y espacios en blanco`);
        }
        obj[prop] = valor;
      }
    }
    const jon = new Proxy(persona, manejador);
    jon.nombre = "Jon";
    jon.apellido = "MirCha";
    jon.edad = 35;
    jon.twitter = "@jonmircha";
    console.log(jon);
    console.log(persona);
  </script>
</body>
